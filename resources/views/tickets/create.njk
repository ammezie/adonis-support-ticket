{% extends 'layouts.master' %}

{% block title %} Open Ticket {% endblock %}

{% block content %}
    <div class="row">
        <div class="col-md-10 col-md-offset-1">
            <div class="panel panel-default">
                <div class="panel-heading">Open New Ticket</div>

                <div class="panel-body">
                    {% include 'includes.status' %}
                    {% include 'includes.errors' %}

                    {{ form.open({ url: '/new_ticket', method: 'POST', class: 'form-horizontal' }) }}
                        {{ csrfField }}

                        <div class="form-group">
                            {{ form.label('title', 'Title', { class: 'col-md-4 control-label' }) }}

                            <div class="col-md-6">
                                {{ form.text('title', old('title'), { class: 'form-control' }) }}
                            </div>
                        </div>

                        <div class="form-group">
                            {{ form.label('category', 'Category', { class: 'col-md-4 control-label' }) }}

                            <div class="col-md-6">
                                {{ form.select('category', categories, null, 'Select Category', { class: 'form-control' }) }}
                            </div>
                        </div>

                        <div class="form-group">
                            {{ form.label('priority', 'Priority', { class: 'col-md-4 control-label' }) }}

                            <div class="col-md-6">
                                {{ form.select('priority', { low: 'Low', medium: 'Medium', high: 'High' }, null, 'Select Priority', { class: 'form-control' }) }}
                            </div>
                        </div>

                        <div class="form-group">
                            {{ form.label('message', 'Message', { class: 'col-md-4 control-label' }) }}

                            <div class="col-md-6">
                                {{ form.textarea('message', null, { class: 'form-control', rows: 10 }) }}
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-6 col-md-offset-4">
                                {{ form.button('Open Ticket', null, { class: 'btn btn-primary' }) }}
                            </div>
                        </div>
                    {{ form.close() }}
                </div>
            </div>
        </div>
    </div>
{% endblock %}